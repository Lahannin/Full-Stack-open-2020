{"version":3,"sources":["Components/Filter.js","Components/Persons.js","Components/PersonForm.js","Components/Notification.js","services/data.js","App.js","index.js"],"names":["Filter","value","onChange","Person","person","deletePerson","name","number","onClick","window","confirm","id","alertBox","Persons","map","key","PersonForm","submitForm","onClickName","phone","onClickPhone","onSubmit","required","type","Notification","message","style","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","newName","setNewName","newPhone","setNewPhone","filter","setFilter","errorMessage","setErrorMessage","setStyle","useEffect","personService","initialPerson","personsToShow","toLowerCase","includes","event","console","log","target","preventDefault","personObject","find","n","returnedPerson","concat","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f2090d19.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Filter = ({ value, onChange }) =>{\n    return (\n          <div>\n             Find:\n              <input\n                  value={value}\n                  onChange={onChange}\n            />\n          </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n  \nconst Persons = ({person, deletePerson}) => {\n   return (\n      <div>\n       {person.map((person) =>\n       <Person key={person} person={person} deletePerson={deletePerson}/>\n       )}\n     </div>\n   )\n}\n\nconst Person = ({person, deletePerson}) => {\n  const alertBox = (person, deletePerson) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      deletePerson(person.id)\n    }\n  }\n   return (\n      <p>\n        {person.name} {person.number} <button onClick={() => alertBox(person, deletePerson)}>Delete</button>\n      </p>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({submitForm, name, onClickName, phone, onClickPhone}) => {\n  return (\n    <form onSubmit={submitForm}>\n      <div>\n        name: <input value={name} required \n      onChange={onClickName}/>\n      </div>\n      <div>\n        phone: <input value={phone} required\n      onChange={onClickPhone}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({ message, style }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className={style}>\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => {\n      return response.data\n    })\n  }\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject ) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n\n}\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Filter from './Components/Filter'\nimport Persons from './Components/Persons'\nimport PersonForm from './Components/PersonForm'\nimport Notification from './Components/Notification'\nimport personService from './services/data'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n\n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState('')\n  const [ style, setStyle] = useState('') \n\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initialPerson => {\n          setPersons(initialPerson)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newPhone\n    }\n\n    const existing = persons.map((person) => person.name)\n      if (!existing.includes(personObject.name)) {\n        personService\n          .create(personObject)\n            .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson))\n      }).catch(error => {\n        setErrorMessage(newName + \" was not added. \" + error.response.data.error)\n        console.log(error.response.data)\n        setStyle('red')\n      })\n\n      setErrorMessage('added ' + newName )\n      setStyle('green')\n\n      } else {\n        if (window.confirm(newName + ' is already added to phonebook, replace the old number with a new one?')) {\n          const newPerson = persons.find(n => n.name === newName.toLowerCase())\n          const id = newPerson.id\n          personService\n          .update(id, personObject)\n            .then(returnedPerson => {\n              setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n            })\n          \n          \n       }\n      }\n      setNewName('')\n      setNewPhone('')\n  }   \n\n\n  const personsToShow = persons.filter(\n    person => {\n      return person.name.toLowerCase().includes(filter.toLowerCase())\n    })\n\n  const handlePersonChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handlePhoneChange = (event) => {\n    console.log(event.target.value)\n    setNewPhone(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n\n  const handleDeletion = id => {\n    const deletePerson = persons.find(n => n.id === id)\n      personService\n       .remove(id)\n         .then(data => {\n          setPersons(persons.filter(person => person.id !== id))\n          setErrorMessage('Successfully removed ' + deletePerson.name)\n          setStyle('green')\n         })\n         .catch(error => {\n          setErrorMessage(deletePerson.name + ' has already been deleted')\n          setStyle('red')\n         })\n      \n      \n      \n      \n        }     \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} style={style} />\n      <Filter \n          value={filter}\n          onChange={handleFilterChange} />\n        <h4>Add new person</h4>\n      <PersonForm \n        submitForm={addPerson}\n        name={newName}\n        onClickName={handlePersonChange}\n        phone={newPhone}\n        onClickPhone={handlePhoneChange} />\n      <h2>Numbers</h2>\n        <Persons \n          person={personsToShow} \n          deletePerson={handleDeletion}  \n        />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}